# 3주차 멘토링 (11/30)

### PR 코멘트 내용
- 중복 체크 로직
- 생성 직후 수정/삭제를 위한 아이디 처리
- oauth callback 에 대한 내용
- 파라미터 명칭, 이벤트 네이명 컨벤션
- DB 인덱스

#### 공통 전달 사항
A팀 PR 보다가 메시지 입력 부분 확인했는데 `contenteditable` 이란걸 찾아보시면 좋을 것 같다

### 질문

1. 채널 진입 시 메시지 데이터에 대한 질문 (현재는 너무 큰 것 같음)
- 답변
  - 보이는 데이터들에 대해서만 응답으로 설계해주시고, 스레드 내 메시지 등은 별도 API 로 구성
  - 페이징 기능을 추가해주세요
2. 쿠키와 헤더의 사용
- 답변: 쿠키는 same-site 이슈도 있고 현재 잘 안쓰는 추세여서 사용하셔도 되긴 한데 지양해주세요
3. API 와 소켓 구현
- 3.1. socket 연결과 rest API를 모두 제공하려면 포트를 다르게 둬야하는지, 아니면 같은 포트를 사용하도 되는지
  - 답변: 다른 포트를 사용해주세요
- 3.2. namespace 와 포트로 채널을 분리하는 것에 대한 차이점이 있는지
  - 답변: 예전에 새로운 메시지가 들어왔을 때 같은 포트에 접속 중인 사용자들에 전파시켰던 경험, 차이점까지는 어려움. 편하신 방법으로 해주시면 됩니다
4. 페이징 기능 구현 시 최초 조회는 어떻게 처리?
- 답변: id 가 넘어오지 않은 경우 가장 최근을 조회. id 유무에 따른 쿼리 분기 추가
5. fe/be 서버에 동일 인증서로 https 를 적용해도 되는지?
- 답변: 동일 도메인으로 인증서를 사용할 경우 1차 서브 도메인까지 사용 가능
6. 채팅에서 소켓과 API 사용 문의
- 답변: 첫 진입 시 기존 데이터는 API 로 가져오고, 접근 후에 새로 생성되는 메시지는 소켓으로 통신
